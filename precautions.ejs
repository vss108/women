<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pregnancy Precautions</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
<style>
/* --- General Reset & Body --- */
* { box-sizing: border-box; margin:0; padding:0; }
body { font-family: 'Nunito', sans-serif; background: #f0f4f8; color: #333; line-height: 1.6; transition: background 0.3s; }

/* --- Header --- */
header {
  background: linear-gradient(90deg, #ff9a9e, #fad0c4);
  padding: 20px 40px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: sticky;
  top: 0;
  z-index: 100;
  box-shadow: 0 6px 20px rgba(0,0,0,0.12);
  border-bottom-left-radius: 20px;
  border-bottom-right-radius: 20px;
  transition: all 0.3s ease;
}
.logo { font-size: 28px; font-weight: 700; color: #fff; text-shadow: 1px 1px 4px rgba(0,0,0,0.2); }
.top-right { display: flex; flex-direction: column; align-items: flex-end; gap: 10px; }
.top-right-links { display: flex; gap: 12px; flex-wrap: wrap; }
.top-right a, .top-right span {
  text-decoration: none;
  padding: 10px 18px;
  border-radius: 12px;
  color: white;
  background: #ff6b6b;
  font-weight: 600;
  box-shadow: 0 4px 12px rgba(0,0,0,0.12);
  transition: all 0.3s ease;
}
.top-right a.logout { background: #d32f2f; }
.top-right a:hover, .top-right span:hover { transform: translateY(-3px); box-shadow: 0 6px 15px rgba(0,0,0,0.18); }

/* --- Notification Bell --- */
.notification-bell {
  position: relative;
  font-size: 26px;
  cursor: pointer;
  display: inline-block;
  color: #fff;
}
.notification-badge {
  position: absolute;
  top: -10px;
  right: -10px;
  background: #ff3b3b;
  color: #fff;
  border-radius: 50%;
  width: 22px;
  height: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
  font-weight: 700;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}
.notification-dropdown {
  display: none;
  position: absolute;
  top: 50px;
  right: 0;
  background: #fff;
  border-radius: 15px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.15);
  width: 350px;
  max-height: 450px;
  overflow-y: auto;
  padding: 15px;
  transition: all 0.3s ease;
  z-index: 1000;
}
.notification-dropdown.show { display: block; }
.booking-item {
  padding: 12px 15px;
  border-bottom: 1px solid #eee;
  font-size: 14px;
  transition: background 0.3s;
}
.booking-item:last-child { border-bottom: none; }
.booking-item:hover { background: #ffe6e6; }
.booking-item strong { color: #d32f2f; }

/* --- Main Content --- */
main { max-width: 1300px; margin: 60px auto; padding: 0 20px; }
h1 { text-align: center; color: #d32f2f; font-size: 36px; margin-bottom: 30px; text-shadow: 1px 1px 3px rgba(0,0,0,0.1); }
h2 { text-align: center; color: #ff6b6b; margin-bottom: 30px; font-size: 28px; }

/* --- Cards Layout --- */
.cards {
  display: flex;
  flex-wrap: wrap;
  gap: 25px;
  justify-content: center;
}
.card {
  background: #fff;
  border-radius: 20px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.12);
  width: 280px;
  padding: 25px 20px;
  text-align: center;
  transition: transform 0.4s, box-shadow 0.4s, background 0.4s;
  position: relative;
  overflow: hidden;
}
.card::before {
  content: '';
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: linear-gradient(135deg, rgba(255,105,135,0.1), rgba(255,205,210,0.1));
  pointer-events: none;
}
.card:hover { transform: translateY(-8px); box-shadow: 0 15px 35px rgba(0,0,0,0.2); background: #fff0f0; }
.card h3 { color: #d32f2f; margin-bottom: 12px; font-size: 20px; }
.card p { color: #555; font-size: 14px; line-height: 1.6; }

/* Icons for cards (optional) */
.card-icon {
  font-size: 40px;
  margin-bottom: 15px;
  display: block;
  color: #ff6b6b;
}

/* --- Responsive --- */
@media (max-width:1200px){ .card{ width:40%; } }
@media (max-width:900px){ .card{ width:45%; } }
@media (max-width:700px){ .card{ width:100%; } }

/* --- Scrollbar Styling --- */
.notification-dropdown::-webkit-scrollbar { width: 7px; }
.notification-dropdown::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 8px; }
.notification-dropdown::-webkit-scrollbar-thumb { background: #d32f2f; border-radius: 8px; }
</style>
</head>
<body>

<header>
  <div class="logo">Pregnancy Care</div>
  <div class="top-right">
    <% if(name){ %>
      <div class="top-right-links">
        <span>Welcome, <%= name %>!</span>
        <a href="/stage1">Personal Precautions</a>
        <a href="/doctor" class="bookslot">Book Slot</a>
        <a href="/logout" class="logout">Logout</a>
      </div>
      <div style="position: relative; display: flex; gap: 15px; align-items: center;">
        <span class="notification-bell" id="notificationBell">üîî
          <span class="notification-badge" id="notificationBadge">0</span>
        </span>
        <span style="font-size: 26px; cursor: pointer;" onclick="window.location.href='/shopping'">üõí</span>
        <div class="notification-dropdown" id="notificationDropdown">
          <div id="bookingsList"><p style="padding:10px; color:#999;">No bookings yet</p></div>
        </div>
      </div>
    <% } else { %>
      <a href="/login">Login</a>
      <a href="/signup">Signup</a>
    <% } %>
  </div>
</header>

<main>
<h1>Pregnancy Precautions</h1>

<h2>Month-wise Precautions</h2>
<div class="cards">
  <a href="/1stmonth" class="card"><span class="card-icon">üå±</span><h3>Month 1</h3><p>Early prenatal check-up, balanced diet, avoid alcohol & smoking.</p></a>
  <a href="/2ndmonth" class="card"><span class="card-icon">ü•ó</span><h3>Month 2</h3><p>Start prenatal vitamins, monitor morning sickness, stay hydrated.</p></a>
  <a href="/3rdmonth" class="card"><span class="card-icon">ü©∫</span><h3>Month 3</h3><p>Regular checkups, manage fatigue, avoid strenuous activity.</p></a>
  <a href="/4thmonth" class="card"><span class="card-icon">üßò‚Äç‚ôÄÔ∏è</span><h3>Month 4</h3><p>Exercise lightly, dental checkup, monitor weight gain.</p></a>
  <a href="/5thmonth" class="card"><span class="card-icon">ü§∞</span><h3>Month 5</h3><p>Monitor fetal movement, balanced nutrition, rest adequately.</p></a>
  <a href="/6thmonth" class="card"><span class="card-icon">üíâ</span><h3>Month 6</h3><p>Screen for gestational diabetes, stay active, take iron-rich foods.</p></a>
  <a href="/7thmonth" class="card"><span class="card-icon">üìö</span><h3>Month 7</h3><p>Attend prenatal classes, watch for swelling, manage back pain.</p></a>
  <a href="/8thmonth" class="card"><span class="card-icon">üçº</span><h3>Month 8</h3><p>Prepare for birth plan, monitor fetal growth, avoid heavy lifting.</p></a>
  <a href="/9thmonth" class="card"><span class="card-icon">üè•</span><h3>Month 9</h3><p>Hospital bag ready, final checkups, rest and stay hydrated.</p></a>
</div>

<h2>Other Precautions</h2>
<div class="cards">
  <div class="card"><span class="card-icon">üí™</span><h3>Physical Changes</h3><p>Monitor weight gain, skin changes, swelling, and fatigue.</p></div>
  <div class="card"><span class="card-icon">ü©∫</span><h3>Medical Care</h3><p>Regular checkups, vaccinations, lab tests, and prenatal monitoring.</p></div>
  <div class="card"><span class="card-icon">üõÄ</span><h3>Self-Care</h3><p>Rest, stress management, hygiene, and balanced nutrition.</p></div>
  <div class="card"><span class="card-icon">üçé</span><h3>Anemia</h3><p>Iron supplements, iron-rich foods, regular blood tests.</p></div>
  <div class="card"><span class="card-icon">üßº</span><h3>Infections</h3><p>Avoid exposure, maintain hygiene, get timely treatment.</p></div>
  <div class="card"><span class="card-icon">ü¶µ</span><h3>Blood Clot Disorders</h3><p>Stay active, follow doctor advice, monitor symptoms.</p></div>
  <div class="card"><span class="card-icon">üíß</span><h3>UTI</h3><p>Hydrate, maintain hygiene, report symptoms early.</p></div>
  <div class="card"><span class="card-icon">üë∂</span><h3>Multiple Pregnancy</h3><p>Extra monitoring, nutrition, and rest for twins/multiples.</p></div>
  <div class="card"><span class="card-icon">‚è≥</span><h3>Late/Postterm</h3><p>Monitor fetal movements, regular checkups, and labor planning.</p></div>
</div>
</main>

<script>
// Initialize notification badge
(function() {
  var bookings = JSON.parse(localStorage.getItem('bookings')) || [];
  var badge = document.getElementById('notificationBadge');
  if (badge) badge.textContent = bookings.length;
})();

document.getElementById('notificationBell').addEventListener('click', function() {
  var dropdown = document.getElementById('notificationDropdown');
  dropdown.classList.toggle('show');
  displayBookings();
});

function displayBookings() {
  var bookingsList = document.getElementById('bookingsList');
  var bookings = JSON.parse(localStorage.getItem('bookings')) || [];
  
  if (bookings.length === 0) {
    bookingsList.innerHTML = '<div class="booking-item">No bookings yet.</div>';
    return;
  }

  var html = '';
  bookings.forEach(function(booking) {
    html += '<div class="booking-item">';
    html += '<strong>' + booking.lab + '</strong><br>';
    html += 'Name: ' + booking.name + '<br>';
    html += 'Date: ' + booking.date + '<br>';
    html += 'Time: ' + booking.time + '<br>';
    html += '</div>';
  });
  bookingsList.innerHTML = html;
}

// Close dropdown when clicking outside
document.addEventListener('click', function(event) {
  var bell = document.getElementById('notificationBell');
  var dropdown = document.getElementById('notificationDropdown');
  if (!bell.contains(event.target) && !dropdown.contains(event.target)) {
    dropdown.classList.remove('show');
  }
});
</script>

</body>
</html>
